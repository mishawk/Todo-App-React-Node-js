import{c as fe,u as pe,b as be,r as T,j as V,R as me,B as le,d as ce,L as ve,q as he,s as Ce,T as ye,t as Pe}from"./index-783f7d3d.js";import{S as X,B as ke,M as xe,t as Le,g as Ne}from"./generateQueryParams-d26a52c4.js";const Ee=fe`
	flex-grow: 1;
	margin: 10px 8px;
`,Te=({todo:k,children:A})=>{const{deleteTodo:$,updateTodo:S,getTodoById:W,getAllTodos:d}=pe(),F=async(o,l)=>{const f=l===X.completed?X.inProgress:X.completed;await S(o,{status:f}),await d({offset:0,limit:xe,status:X.completed})};return be(ke,{minimal:!0,children:[A&&T.Children.map(A,o=>T.isValidElement(o)?o:null),V(ve,{to:`${me.TODO_DETAILS}=${+k.id}`,children:V(le,{css:Ee,intent:"success",icon:V(ce,{icon:"eye-open"}),onClick:()=>W(+k.id),children:"View"})}),V(le,{intent:"danger",icon:V(ce,{icon:"trash"}),onClick:()=>$(k.id),children:"Delete"}),V(le,{intent:k.status===X.completed?"success":"none",icon:V(ce,{icon:"tick-circle"}),onClick:()=>F(k.id,k.status)})]})};var ue={exports:{}};(function(k,A){(function($,S){k.exports=S(T)})(he,$=>(()=>{var S={703:(o,l,f)=>{var t=f(414);function j(){}function B(){}B.resetWarningCache=j,o.exports=function(){function b(ee,C,Q,Y,te,J){if(J!==t){var ae=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ae.name="Invariant Violation",ae}}function x(){return b}b.isRequired=b;var _={array:b,bigint:b,bool:b,func:b,number:b,object:b,string:b,symbol:b,any:b,arrayOf:x,element:b,elementType:b,instanceOf:x,node:b,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:B,resetWarningCache:j};return _.PropTypes=_,_}},697:(o,l,f)=>{o.exports=f(703)()},414:o=>{o.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:o=>{o.exports=$}},W={};function d(o){var l=W[o];if(l!==void 0)return l.exports;var f=W[o]={exports:{}};return S[o](f,f.exports,d),f.exports}d.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return d.d(l,{a:l}),l},d.d=(o,l)=>{for(var f in l)d.o(l,f)&&!d.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:l[f]})},d.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),d.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var F={};return(()=>{d.r(F),d.d(F,{default:()=>ge});var o=d(98),l=d.n(o),f=d(697),t=d.n(f);function j(){return j=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(n[p]=c[p])}return n},j.apply(this,arguments)}var B=function(n){var s=n.pageClassName,c=n.pageLinkClassName,p=n.page,K=n.selected,U=n.activeClassName,w=n.activeLinkClassName,a=n.getEventListener,e=n.pageSelectedHandler,g=n.href,r=n.extraAriaContext,i=n.pageLabelBuilder,u=n.rel,v=n.ariaLabel||"Page "+p+(r?" "+r:""),y=null;return K&&(y="page",v=n.ariaLabel||"Page "+p+" is your current page",s=s!==void 0?s+" "+U:U,c!==void 0?w!==void 0&&(c=c+" "+w):c=w),l().createElement("li",{className:s},l().createElement("a",j({rel:u,role:g?void 0:"button",className:c,href:g,tabIndex:K?"-1":"0","aria-label":v,"aria-current":y,onKeyPress:e},a(e)),i(p)))};B.propTypes={pageSelectedHandler:t().func.isRequired,selected:t().bool.isRequired,pageClassName:t().string,pageLinkClassName:t().string,activeClassName:t().string,activeLinkClassName:t().string,extraAriaContext:t().string,href:t().string,ariaLabel:t().string,page:t().number.isRequired,getEventListener:t().func.isRequired,pageLabelBuilder:t().func.isRequired,rel:t().string};const b=B;function x(){return x=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(n[p]=c[p])}return n},x.apply(this,arguments)}var _=function(n){var s=n.breakLabel,c=n.breakAriaLabel,p=n.breakClassName,K=n.breakLinkClassName,U=n.breakHandler,w=n.getEventListener,a=p||"break";return l().createElement("li",{className:a},l().createElement("a",x({className:K,role:"button",tabIndex:"0","aria-label":c,onKeyPress:U},w(U)),s))};_.propTypes={breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabel:t().string,breakClassName:t().string,breakLinkClassName:t().string,breakHandler:t().func.isRequired,getEventListener:t().func.isRequired};const ee=_;function C(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n??s}function Q(n){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Q(n)}function Y(){return Y=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var c=arguments[s];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(n[p]=c[p])}return n},Y.apply(this,arguments)}function te(n,s){for(var c=0;c<s.length;c++){var p=s[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(n,p.key,p)}}function J(n,s){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,p){return c.__proto__=p,c},J(n,s)}function ae(n,s){if(s&&(Q(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(n)}function N(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ne(n){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ne(n)}function P(n,s,c){return s in n?Object.defineProperty(n,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[s]=c,n}var ie=function(n){(function(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&J(a,e)})(w,n);var s,c,p,K,U=(p=w,K=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,e=ne(p);if(K){var g=ne(this).constructor;a=Reflect.construct(e,arguments,g)}else a=e.apply(this,arguments);return ae(this,a)});function w(a){var e,g;return function(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,w),P(N(e=U.call(this,a)),"handlePreviousPage",function(r){var i=e.state.selected;e.handleClick(r,null,i>0?i-1:void 0,{isPrevious:!0})}),P(N(e),"handleNextPage",function(r){var i=e.state.selected,u=e.props.pageCount;e.handleClick(r,null,i<u-1?i+1:void 0,{isNext:!0})}),P(N(e),"handlePageSelected",function(r,i){if(e.state.selected===r)return e.callActiveCallback(r),void e.handleClick(i,null,void 0,{isActive:!0});e.handleClick(i,null,r)}),P(N(e),"handlePageChange",function(r){e.state.selected!==r&&(e.setState({selected:r}),e.callCallback(r))}),P(N(e),"getEventListener",function(r){return P({},e.props.eventListener,r)}),P(N(e),"handleClick",function(r,i,u){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=v.isPrevious,R=y!==void 0&&y,Z=v.isNext,z=Z!==void 0&&Z,G=v.isBreak,E=G!==void 0&&G,D=v.isActive,I=D!==void 0&&D;r.preventDefault?r.preventDefault():r.returnValue=!1;var H=e.state.selected,m=e.props.onClick,O=u;if(m){var L=m({index:i,selected:H,nextSelectedPage:u,event:r,isPrevious:R,isNext:z,isBreak:E,isActive:I});if(L===!1)return;Number.isInteger(L)&&(O=L)}O!==void 0&&e.handlePageChange(O)}),P(N(e),"handleBreakClick",function(r,i){var u=e.state.selected;e.handleClick(i,r,u<r?e.getForwardJump():e.getBackwardJump(),{isBreak:!0})}),P(N(e),"callCallback",function(r){e.props.onPageChange!==void 0&&typeof e.props.onPageChange=="function"&&e.props.onPageChange({selected:r})}),P(N(e),"callActiveCallback",function(r){e.props.onPageActive!==void 0&&typeof e.props.onPageActive=="function"&&e.props.onPageActive({selected:r})}),P(N(e),"getElementPageRel",function(r){var i=e.state.selected,u=e.props,v=u.nextPageRel,y=u.prevPageRel,R=u.selectedPageRel;return i-1===r?y:i===r?R:i+1===r?v:void 0}),P(N(e),"pagination",function(){var r=[],i=e.props,u=i.pageRangeDisplayed,v=i.pageCount,y=i.marginPagesDisplayed,R=i.breakLabel,Z=i.breakClassName,z=i.breakLinkClassName,G=i.breakAriaLabels,E=e.state.selected;if(v<=u)for(var D=0;D<v;D++)r.push(e.getPageElement(D));else{var I=u/2,H=u-I;E>v-u/2?I=u-(H=v-E):E<u/2&&(H=u-(I=E));var m,O,L=function(q){return e.getPageElement(q)},h=[];for(m=0;m<v;m++){var re=m+1;if(re<=y)h.push({type:"page",index:m,display:L(m)});else if(re>v-y)h.push({type:"page",index:m,display:L(m)});else if(m>=E-I&&m<=E+(E===0&&u>1?H-1:H))h.push({type:"page",index:m,display:L(m)});else if(R&&h.length>0&&h[h.length-1].display!==O&&(u>0||y>0)){var oe=m<E?G.backward:G.forward;O=l().createElement(ee,{key:m,breakAriaLabel:oe,breakLabel:R,breakClassName:Z,breakLinkClassName:z,breakHandler:e.handleBreakClick.bind(null,m),getEventListener:e.getEventListener}),h.push({type:"break",index:m,display:O})}}h.forEach(function(q,M){var se=q;q.type==="break"&&h[M-1]&&h[M-1].type==="page"&&h[M+1]&&h[M+1].type==="page"&&h[M+1].index-h[M-1].index<=2&&(se={type:"page",index:q.index,display:L(q.index)}),r.push(se.display)})}return r}),a.initialPage!==void 0&&a.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(a.initialPage,") and forcePage (").concat(a.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),g=a.initialPage?a.initialPage:a.forcePage?a.forcePage:0,e.state={selected:g},e}return s=w,(c=[{key:"componentDidMount",value:function(){var a=this.props,e=a.initialPage,g=a.disableInitialCallback,r=a.extraAriaContext,i=a.pageCount,u=a.forcePage;e===void 0||g||this.callCallback(e),r&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(i)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(i,"). Did you forget a Math.ceil()?")),e!==void 0&&e>i-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(e," > ").concat(i-1,").")),u!==void 0&&u>i-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(u," > ").concat(i-1,")."))}},{key:"componentDidUpdate",value:function(a){this.props.forcePage!==void 0&&this.props.forcePage!==a.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(a.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var a=this.state.selected,e=this.props,g=e.pageCount,r=a+e.pageRangeDisplayed;return r>=g?g-1:r}},{key:"getBackwardJump",value:function(){var a=this.state.selected-this.props.pageRangeDisplayed;return a<0?0:a}},{key:"getElementHref",value:function(a){var e=this.props,g=e.hrefBuilder,r=e.pageCount,i=e.hrefAllControls;if(g)return i||a>=0&&a<r?g(a+1,r,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(a){var e=a===this.state.selected;if(this.props.ariaLabelBuilder&&a>=0&&a<this.props.pageCount){var g=this.props.ariaLabelBuilder(a+1,e);return this.props.extraAriaContext&&!e&&(g=g+" "+this.props.extraAriaContext),g}}},{key:"getPageElement",value:function(a){var e=this.state.selected,g=this.props,r=g.pageClassName,i=g.pageLinkClassName,u=g.activeClassName,v=g.activeLinkClassName,y=g.extraAriaContext,R=g.pageLabelBuilder;return l().createElement(b,{key:a,pageSelectedHandler:this.handlePageSelected.bind(null,a),selected:e===a,rel:this.getElementPageRel(a),pageClassName:r,pageLinkClassName:i,activeClassName:u,activeLinkClassName:v,extraAriaContext:y,href:this.getElementHref(a),ariaLabel:this.ariaLabelBuilder(a),page:a+1,pageLabelBuilder:R,getEventListener:this.getEventListener})}},{key:"render",value:function(){var a=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&a!==void 0)return a&&a(this.props);var e=this.props,g=e.disabledClassName,r=e.disabledLinkClassName,i=e.pageCount,u=e.className,v=e.containerClassName,y=e.previousLabel,R=e.previousClassName,Z=e.previousLinkClassName,z=e.previousAriaLabel,G=e.prevRel,E=e.nextLabel,D=e.nextClassName,I=e.nextLinkClassName,H=e.nextAriaLabel,m=e.nextRel,O=this.state.selected,L=O===0,h=O===i-1,re="".concat(C(R)).concat(L?" ".concat(C(g)):""),oe="".concat(C(D)).concat(h?" ".concat(C(g)):""),q="".concat(C(Z)).concat(L?" ".concat(C(r)):""),M="".concat(C(I)).concat(h?" ".concat(C(r)):""),se=L?"true":"false",de=h?"true":"false";return l().createElement("ul",{className:u||v,role:"navigation","aria-label":"Pagination"},l().createElement("li",{className:re},l().createElement("a",Y({className:q,href:this.getElementHref(O-1),tabIndex:L?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":se,"aria-label":z,rel:G},this.getEventListener(this.handlePreviousPage)),y)),this.pagination(),l().createElement("li",{className:oe},l().createElement("a",Y({className:M,href:this.getElementHref(O+1),tabIndex:h?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":de,"aria-label":H,rel:m},this.getEventListener(this.handleNextPage)),E)))}}])&&te(s.prototype,c),Object.defineProperty(s,"prototype",{writable:!1}),w}(o.Component);P(ie,"propTypes",{pageCount:t().number.isRequired,pageRangeDisplayed:t().number,marginPagesDisplayed:t().number,previousLabel:t().node,previousAriaLabel:t().string,prevPageRel:t().string,prevRel:t().string,nextLabel:t().node,nextAriaLabel:t().string,nextPageRel:t().string,nextRel:t().string,breakLabel:t().oneOfType([t().string,t().node]),breakAriaLabels:t().shape({forward:t().string,backward:t().string}),hrefBuilder:t().func,hrefAllControls:t().bool,onPageChange:t().func,onPageActive:t().func,onClick:t().func,initialPage:t().number,forcePage:t().number,disableInitialCallback:t().bool,containerClassName:t().string,className:t().string,pageClassName:t().string,pageLinkClassName:t().string,pageLabelBuilder:t().func,activeClassName:t().string,activeLinkClassName:t().string,previousClassName:t().string,nextClassName:t().string,previousLinkClassName:t().string,nextLinkClassName:t().string,disabledClassName:t().string,disabledLinkClassName:t().string,breakClassName:t().string,breakLinkClassName:t().string,extraAriaContext:t().string,ariaLabelBuilder:t().func,eventListener:t().string,renderOnZeroPageCount:t().func,selectedPageRel:t().string}),P(ie,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(n){return n},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const ge=ie})(),F})())})(ue);var Oe=ue.exports;const Se=Ce(Oe),Ae=k=>{const{todos:A,getAllTodos:$}=pe(),[S,W]=T.useState(""),[d,F]=T.useState(Le[0]),[o,l]=T.useState(0),[f,t]=T.useState(0),[j,B]=T.useState(!1),b=async(x,_,ee)=>{try{B(!0);const C=Ne(_);C.title=x;const te=(await new ye(new Pe("https://todo-app-react-node-js.onrender.com/todos")).getAllTodos(C)).length;C.limit=k,C.offset=ee*k,$(C);const J=Math.ceil(te/k);t(J)}catch(C){console.error("An error occurred while fetching filtered todos:",C)}finally{B(!1)}};return T.useEffect(()=>{b(S,d,o)},[d,o,f]),T.useEffect(()=>{A.length>k&&l(o+1),A.length===0&&f>0&&o>0&&l(o-1),A.length===0&&o===0&&f>0&&b(S,d,0)},[A]),{input:S,setInput:W,selectedTab:d,setSelectedTab:F,currentPage:o,setCurrentPage:l,pageCount:f,fetchFilteredTodos:b,isLoading:j}};export{Se as R,Te as T,Ae as u};
